diff -u -r cmake-3.0.0.org/Source/kwsys/Terminal.c cmake-3.0.0/Source/kwsys/Terminal.c
--- cmake-3.0.0.org/Source/kwsys/Terminal.c	2014-06-09 19:46:52.000000000 +0400
+++ cmake-3.0.0/Source/kwsys/Terminal.c	2014-07-30 23:20:04.000000000 +0400
@@ -210,7 +210,7 @@
 #if defined(KWSYS_TERMINAL_ISATTY_WORKS)
   /* Make sure the stream is a tty. */
   (void)default_tty;
-  return isatty(fileno(stream))? 1:0;
+  return 1;
 #else
   /* Check for cases in which the stream is definately not a tty.  */
   if(kwsysTerminalStreamIsNotInteractive(stream))
